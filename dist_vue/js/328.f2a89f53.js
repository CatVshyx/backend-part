"use strict";(self["webpackChunkcms_yurka"]=self["webpackChunkcms_yurka"]||[]).push([[328],{1328:function(s,a,t){t.r(a),t.d(a,{default:function(){return b}});var n=t(3396);const o=s=>((0,n.dD)("data-v-870349aa"),s=s(),(0,n.Cn)(),s),e={class:"auth-page"},i=o((()=>(0,n._)("div",{class:"header"},[(0,n._)("img",{src:"/assets/gerb.png",alt:"Герб НУ ОЮА"}),(0,n._)("p",null,"Модель кримінального провадження."),(0,n._)("p",null,"Методичні рекомендації щодо документального забезпечення досудового розслідування")],-1))),l={class:"auth-container"},r=o((()=>(0,n._)("p",{class:"title"},"Авторизація",-1))),u=o((()=>(0,n._)("p",{class:"label"},"Логін:",-1))),p={class:"input",type:"text",ref:"login_input"},c=o((()=>(0,n._)("p",{class:"label"},"Пароль:",-1))),d={class:"input",type:"password",ref:"password_input"},g={key:1},_=o((()=>(0,n._)("div",{class:"footer copyright"},[(0,n._)("p",null,'© Національний університет "Одеська юридична академія". К.ю.н Загородній Ігор Вікторович, доцент кафедри криміналістики. Усі права захищені.')],-1)));function h(s,a,t,o,h,f){const y=(0,n.up)("LoadingAnimation");return(0,n.wg)(),(0,n.j4)(n.lR,{to:"body"},[(0,n._)("div",e,[i,(0,n._)("div",l,[r,u,(0,n._)("input",p,null,512),c,(0,n._)("input",d,null,512),(0,n._)("button",{class:"login",onClick:a[0]||(a[0]=(...a)=>s.login&&s.login(...a))},[s.loading?((0,n.wg)(),(0,n.j4)(y,{key:0})):((0,n.wg)(),(0,n.iD)("p",g,"Увійти"))])]),_])])}t(7658);var f=t(2203),y=t(8569),v=t(5222),k=t(4074),w=(0,n.aZ)({name:"AuthLogin",components:{LoadingAnimation:y.Z},setup:()=>({session:(0,k.Z)()}),props:{goBack:{type:Boolean,default:!0}},data:()=>({loading:!1}),methods:{async login(){this.loading=!0;const s=this.$refs.password_input.value||"",a=this.$refs.login_input.value||"";if(!a||!s)return this.loading=!1,v.Z.toast("Деякі поля не заповнені","error");try{await this.session.login(a,s),f.Z.push("/")}catch(t){if(400==t?.response?.status)return v.Z.toast("Невірний логін або пароль","error");v.Z.toast(t?.response?.data?.error||"Виникла помилка","error"),console.error(t)}finally{this.loading=!1}}}}),m=t(89);const Z=(0,m.Z)(w,[["render",h],["__scopeId","data-v-870349aa"]]);var b=Z}}]);